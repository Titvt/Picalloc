# Picalloc - 哔咔漫画网页版

### 这是什么？

这是一个使用 Vue+Flask 编写的网页版某粉色 App ， 主要是给不想越狱、不想自签名 ipa 的 iOS 用户提供一个方便的绅士体验

### 我该如何使用呢？

##### 我是用户

使用浏览器打开目标网址，若没有设置密钥，此时应该已经到了主页，可以开始使用啦~！

若设置了密钥，则可以看到跳转到了设置页面，输入密钥并点击连接按钮，等到出现连接服务器成功的提示就可以点击左上角的按钮回到主页啦~！

连接成功后下次打开会自动连接

如果连接服务器总是失败，请依次排查下列问题

+ 你的设备的网络状态

+ 服务器的运行状态（网络是否正常、是否开启服务）

+ 哔咔官方服务器的网络状态

若排查后均没问题，可能是由于哔咔官方更改了 API 接口相关内容，可以等待本仓库更新或**自己动手**

##### 我是服务器部署者

将本仓库 clone 到本地

`git clone https://github.com/Titvt/Picalloc.git`

进入仓库根目录下，将 Picalloc 目录放到你的服务器上，并在该目录下创建 config.json ，填写配置信息

```
{
  "username": "必填，哔咔用户名",
  "password": "必填，哔咔密码",
  "proxy": "选填，国内机子基本必填，以使用clash代理为例：127.0.0.1:7890",
  "key": "选填，不填或留空则密钥为空"
}
```

安装 Python ，推荐 3.9+ 版本，安装依赖模块

+ requests

+ flask

安装 gunicorn ，执行以下命令启动服务

`gunicorn -w 4 -b 0.0.0.0:2333 app:app`

此处的示例使用了 4 个 worker ，绑定的端口为 2333

worker 的数量可以视情况而定，如果你只是一个人使用，且你的服务器性能较低，建议改成 1 个 worker，反之，如果你打算让大量的人访问你的高性能服务器，建议 ~~改成 114514 个 worker~~ 改大一点

##### 手动构建项目

在修改前端相关代码后，使用 npm 构建项目，即可应用你的更改

`npm run build`

在修改后端相关代码后，你的更改将立即被应用

### 为啥我加载不了图片捏？

只有 API 是经过服务器处理的，图片链接是用你的浏览器去访问的，所以你的设备需要科学上网

### 功能好少！

目前仅实现了最基础也是最重要的功能，未来也许会支持更多功能：

+ 独立账号登录、注册账号、修改账号信息

+ 签到打卡

+ 收藏与点赞

+ 查看与发送评论

+ 按条件屏蔽本子

+ ……
